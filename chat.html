<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Chat YNA AI â€” YNA STORE</title>

  <style>
    :root{
      --bg1:#070A12; --bg2:#0B1430;
      --card: rgba(255,255,255,.06);
      --card2: rgba(255,255,255,.08);
      --text:#EAF0FF; --muted: rgba(234,240,255,.68);
      --line: rgba(255,255,255,.10);
      --glow: 0 0 0 1px rgba(255,255,255,.06), 0 30px 80px rgba(0,0,0,.55);
      --radius: 18px;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
      color:var(--text);
      background:
        radial-gradient(1000px 700px at 20% 0%, rgba(120,140,255,.18), transparent 55%),
        radial-gradient(900px 600px at 80% 10%, rgba(0,255,209,.10), transparent 55%),
        radial-gradient(900px 700px at 50% 100%, rgba(255,0,168,.10), transparent 55%),
        linear-gradient(180deg, var(--bg1), var(--bg2));
      overflow-x:hidden;
    }
    .wrap{
      max-width: 980px;
      margin: 0 auto;
      padding: 18px 14px 28px;
    }

    /* topbar */
    .topbar{
      position: sticky; top:0; z-index:30;
      backdrop-filter: blur(12px);
      background: linear-gradient(180deg, rgba(7,10,18,.88), rgba(7,10,18,.55));
      border-bottom: 1px solid var(--line);
    }
    .topbar .row{
      max-width: 980px;
      margin: 0 auto;
      padding: 12px 14px;
      display:flex; align-items:center; justify-content:space-between;
      gap:10px;
    }
    .brand{
      display:flex; align-items:center; gap:10px;
      text-decoration:none; color:var(--text);
    }
    .dot{
      width:12px; height:12px; border-radius:999px;
      background: radial-gradient(circle at 30% 30%, #B8C2FF, #4B5BFF 55%, #0AF 100%);
      box-shadow: 0 0 22px rgba(96,120,255,.45);
    }
    .brand b{letter-spacing:.4px}
    .tag{
      font-size:12px; color:var(--muted);
      padding: 6px 10px;
      border:1px solid var(--line);
      border-radius:999px;
      background: rgba(255,255,255,.04);
      white-space:nowrap;
    }

    /* layout */
    .grid{
      display:grid;
      grid-template-columns: 1.2fr .8fr;
      gap:14px;
      margin-top:14px;
    }
    @media (max-width: 900px){
      .grid{grid-template-columns:1fr}
    }

    .card{
      background: var(--card);
      border:1px solid var(--line);
      border-radius: var(--radius);
      box-shadow: var(--glow);
      overflow:hidden;
    }
    .card-h{
      padding:14px 14px 10px;
      border-bottom: 1px solid var(--line);
      display:flex; align-items:center; justify-content:space-between;
      gap:10px;
    }
    .card-h h1{
      margin:0;
      font-size: 16px;
      letter-spacing:.2px;
    }
    .sub{
      margin:0;
      font-size:12px;
      color:var(--muted);
    }

    /* chat */
    .chat{
      height: 70vh;
      min-height: 520px;
      display:flex;
      flex-direction:column;
    }
    .msgs{
      padding: 14px;
      overflow:auto;
      flex:1;
    }
    .bubble{
      max-width: 82%;
      padding: 10px 12px;
      border-radius: 16px;
      border:1px solid var(--line);
      margin: 0 0 10px 0;
      line-height: 1.35;
      white-space: pre-wrap;
      word-wrap: break-word;
    }
    .ai{
      background: linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.04));
      border-top-left-radius: 6px;
    }
    .me{
      margin-left:auto;
      background: linear-gradient(180deg, rgba(75,91,255,.18), rgba(75,91,255,.08));
      border-top-right-radius: 6px;
    }
    .meta{
      font-size: 11px;
      color: var(--muted);
      margin: -6px 0 10px 2px;
    }

    .typing{
      display:inline-flex; gap:4px; align-items:center;
    }
    .typing span{
      width:6px; height:6px; border-radius:999px;
      background: rgba(234,240,255,.55);
      animation: bop 1s infinite ease-in-out;
    }
    .typing span:nth-child(2){animation-delay:.15s}
    .typing span:nth-child(3){animation-delay:.30s}
    @keyframes bop{0%,100%{transform:translateY(0);opacity:.55}50%{transform:translateY(-4px);opacity:1}}

    .composer{
      border-top:1px solid var(--line);
      padding: 12px;
      display:flex;
      gap:10px;
      align-items:flex-end;
      background: rgba(0,0,0,.18);
      backdrop-filter: blur(10px);
    }
    textarea{
      flex:1;
      resize:none;
      min-height: 46px;
      max-height: 140px;
      padding: 12px 12px;
      border-radius: 14px;
      border:1px solid var(--line);
      outline:none;
      color:var(--text);
      background: rgba(255,255,255,.05);
      box-shadow: inset 0 0 0 1px rgba(255,255,255,.03);
    }
    textarea::placeholder{color: rgba(234,240,255,.42)}
    .btn{
      cursor:pointer;
      border:none;
      color:var(--text);
      padding: 12px 14px;
      border-radius: 14px;
      background: rgba(255,255,255,.08);
      border:1px solid var(--line);
      transition: transform .12s ease, background .12s ease;
      white-space:nowrap;
    }
    .btn:hover{transform: translateY(-1px); background: rgba(255,255,255,.10)}
    .btn:active{transform: translateY(0px) scale(.98)}
    .btn.primary{
      background: linear-gradient(90deg, rgba(75,91,255,.55), rgba(0,255,209,.22));
      border:1px solid rgba(255,255,255,.14);
    }
    .chips{
      padding: 10px 12px 12px;
      display:flex;
      flex-wrap:wrap;
      gap:8px;
      border-top:1px solid var(--line);
      background: rgba(255,255,255,.03);
    }
    .chip{
      font-size:12px;
      padding: 8px 10px;
      border-radius: 999px;
      border:1px solid var(--line);
      background: rgba(255,255,255,.04);
      cursor:pointer;
      user-select:none;
      transition: transform .12s ease, background .12s ease;
    }
    .chip:hover{transform: translateY(-1px); background: rgba(255,255,255,.07)}
    .side{
      padding: 14px;
    }
    .side h2{
      margin:0 0 8px 0;
      font-size:14px;
    }
    .list{
      margin:0;
      padding-left:18px;
      color: var(--muted);
      font-size: 13px;
      line-height: 1.5;
    }
    .k{
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      font-size: 12px;
      padding: 2px 6px;
      border-radius: 8px;
      border:1px solid var(--line);
      background: rgba(255,255,255,.04);
      color: rgba(234,240,255,.9);
    }
    a{color: #B8C2FF}
    .foot{
      margin-top:12px;
      font-size:12px;
      color: var(--muted);
    }
  </style>
</head>

<body>
  <div class="topbar">
    <div class="row">
      <a class="brand" href="index.html">
        <span class="dot"></span>
        <div>
          <b>YNA STORE</b><br/>
          <span class="sub">Chat YNA AI â€¢ asisten digital</span>
        </div>
      </a>
      <div class="tag">Modern â€¢ Aman â€¢ Cepat</div>
    </div>
  </div>

  <div class="wrap">
    <div class="grid">

      <!-- CHAT -->
      <div class="card chat">
        <div class="card-h">
          <div>
            <h1>Chat YNA AI ðŸ¤–âœ¨</h1>
            <p class="sub">Tanya apa aja soal Panel, Script Bot, Sewa Bot, Top Up, Edit HD, dll.</p>
          </div>
          <button class="btn" id="btnClear">Reset</button>
        </div>

        <div class="msgs" id="msgs"></div>

        <div class="chips" id="chips">
          <div class="chip" data-q="Harga panelnya gimana?">Harga Panel</div>
          <div class="chip" data-q="Aku mau order panel RAM 5, gimana langkahnya?">Cara Order Panel</div>
          <div class="chip" data-q="List script bot YNA apa aja dan harganya?">List Script Bot</div>
          <div class="chip" data-q="Sewa bot YNA AI 1 bulan berapa dan rulesnya?">Sewa Bot</div>
          <div class="chip" data-q="Kontak admin YNA STORE?">Kontak Admin</div>
        </div>

        <div class="composer">
          <textarea id="inp" placeholder="Ketik pertanyaanmuâ€¦ (misal: â€˜aku mau sewa bot 3 bulanâ€™)" rows="1"></textarea>
          <button class="btn primary" id="btnSend">Kirim</button>
        </div>
      </div>

      <!-- SIDE INFO -->
      <div class="card">
        <div class="card-h">
          <div>
            <h1>Info Cepat</h1>
            <p class="sub">Yang paling sering ditanya buyer.</p>
          </div>
        </div>
        <div class="side">
          <h2>Kontak YNA STORE</h2>
          <ul class="list">
            <li>WhatsApp: <a href="https://wa.me/6283173403262" target="_blank">0831-7340-3262</a></li>
            <li>WA Cadangan: <span class="k">0831-1494-1794</span></li>
            <li>Email: <span class="k">nadbrtpro@gmail.com</span></li>
            <li>IG: <span class="k">@yna_store</span></li>
            <li>TikTok: <span class="k">@yna_store_</span></li>
            <li>Telegram: <span class="k">@ynastore1</span></li>
          </ul>

          <h2 style="margin-top:14px;">Metode Pembayaran Manual</h2>
          <ul class="list">
            <li>Dana: <span class="k">083899782574</span></li>
            <li>GoPay: <span class="k">083138675899</span></li>
          </ul>

          <div class="foot">
            Tips: Kalau kamu lagi order (panel/script/sewa bot) via halaman order, setelah bayar sukses, data akan tampil otomatis di halaman order.
          </div>
        </div>
      </div>

    </div>
  </div>

  <script>
    // ====== API AI (dari file bot kamu) ======
    const AI_URL = "https://alipai-api.vercel.app/ai/gemini?apikey=alipainewapikey&prompt=";

    const $ = (id)=>document.getElementById(id);
    const msgs = $("msgs");
    const inp  = $("inp");

    // Persona + konteks YNA STORE biar AI fokus jualan & bantu
    const SYSTEM_CONTEXT = `
Kamu adalah "Chat YNA AI" â€” asisten lucu-imut tapi profesional milik YNA STORE.
Fokus utama: membantu pelanggan memilih & order:
1) Panel VPS (RAM 5=20K, RAM 8=25K, RAM 10=30K, Unlimited=35K).
2) Script Bot: SC STORE 120K, SC MD 150K (diskon), SC YNA AI 180K.
3) Sewa Bot:
- BOT STORE YNA: 1B 12K, 2B 20K, 3B 35K, 5B 50K, 1T 85K, Permanen 150K
- BOT MD YNA: 1B 15K, 2B 25K, 3B 40K, 5B 60K, 1T 100K, Permanen 200K
- BOT YNA AI BUTTON: 1B 15K, 2B 25K, 3B 40K, 5B 60K, 1T 100K, Permanen 220K
Rules sewa bot: bot wajib admin, jangan spam, tidak menerima grup >500 member, garansi selama sewa, kick bot = hangus, pindah grup max 1x, diskon hanya perpanjangan aktif.
Kontak admin utama: WA 0831-7340-3262 (wa.me/6283173403262).
Jawab singkat, jelas, pakai bahasa Indonesia gaul sopan. Beri call-to-action ke halaman order bila relevan.
Jika user tanya hal di luar YNA STORE, jawab seperlunya tapi tetap arahkan ke layanan YNA STORE bila masuk akal.
`;

    function now(){
      const d=new Date();
      return d.toLocaleTimeString('id-ID',{hour:'2-digit',minute:'2-digit'});
    }

    function addBubble(text, who="ai"){
      const b=document.createElement("div");
      b.className = "bubble " + (who==="me" ? "me":"ai");
      b.textContent = text;
      msgs.appendChild(b);

      const m=document.createElement("div");
      m.className="meta";
      m.style.textAlign = who==="me" ? "right":"left";
      m.textContent = (who==="me" ? "Kamu" : "YNA AI") + " â€¢ " + now();
      msgs.appendChild(m);

      msgs.scrollTop = msgs.scrollHeight;
      return {bubble:b, meta:m};
    }

    function addTyping(){
      const b=document.createElement("div");
      b.className="bubble ai";
      b.innerHTML = '<span class="typing"><span></span><span></span><span></span></span>  YNA AI lagi mikirâ€¦';
      msgs.appendChild(b);
      msgs.scrollTop = msgs.scrollHeight;
      return b;
    }

    function cleanText(s){
      return (s||"")
        .replace(/\*\*/g,"")
        .replace(/__/g,"")
        .replace(/\n{3,}/g,"\n\n")
        .trim();
    }

    async function askAI(userText){
      const prompt = `${SYSTEM_CONTEXT}\n\nUser: ${userText}\n\nJawab sebagai Chat YNA AI:`;
      const url = AI_URL + encodeURIComponent(prompt);

      const r = await fetch(url, { method:"GET" });
      if(!r.ok) throw new Error("AI API error");
      const d = await r.json().catch(()=>null);

      // beberapa API balikin {result:"..."} (sesuai file kamu)
      const out = d?.result || d?.answer || d?.message || "";
      if(!out) throw new Error("AI tidak memberi jawaban");
      return cleanText(out);
    }

    function setInputRows(){
      inp.style.height = "auto";
      inp.style.height = Math.min(inp.scrollHeight, 140) + "px";
    }

    async function send(){
      const text = (inp.value||"").trim();
      if(!text) return;

      addBubble(text,"me");
      inp.value="";
      setInputRows();

      const typing = addTyping();

      try{
        const reply = await askAI(text);
        typing.remove();
        addBubble(reply,"ai");
      }catch(e){
        typing.remove();
        addBubble("Maaf yaa, AI lagi error ðŸ˜¿ Coba ulang sebentar atau tanya versi singkat.\nKalau mau cepat, chat admin: 0831-7340-3262", "ai");
      }
    }

    // init greeting
    addBubble(
`Haii kak! Aku Chat YNA AI ðŸ¤–âœ¨
Mau order apa hari ini?

â€¢ Panel VPS (RAM 5/8/10/Unlimited)
â€¢ Script Bot (SC STORE / SC MD / SC YNA AI)
â€¢ Sewa Bot (Store/MD/AI Button)

Ketik aja kebutuhanmu yaa~`,
    "ai");

    $("btnSend").addEventListener("click", send);
    inp.addEventListener("keydown", (e)=>{
      if(e.key==="Enter" && !e.shiftKey){
        e.preventDefault();
        send();
      }
    });
    inp.addEventListener("input", setInputRows);
    $("btnClear").addEventListener("click", ()=>{
      msgs.innerHTML="";
      addBubble("Chat direset âœ…\nTanya lagi ya kak ðŸ˜º", "ai");
    });

    $("chips").addEventListener("click", (e)=>{
      const chip = e.target.closest(".chip");
      if(!chip) return;
      inp.value = chip.getAttribute("data-q") || "";
      setInputRows();
      send();
    });
  </script>
</body>
</html>
