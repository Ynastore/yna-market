<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Game ‚Äî YNA STORE</title>
  <link rel="stylesheet" href="assets/style.css"/>

  <style>
    :root{
      --bg1:#070A12; --bg2:#0B1430;
      --card: rgba(255,255,255,.06);
      --line: rgba(255,255,255,.10);
      --text:#EAF0FF; --muted: rgba(234,240,255,.68);
      --glow: 0 0 0 1px rgba(255,255,255,.06), 0 30px 80px rgba(0,0,0,.55);
      --radius: 18px;
    }
    body{
      margin:0;
      color:var(--text);
      background:
        radial-gradient(1000px 700px at 20% 0%, rgba(120,140,255,.18), transparent 55%),
        radial-gradient(900px 600px at 80% 10%, rgba(0,255,209,.10), transparent 55%),
        radial-gradient(900px 700px at 50% 100%, rgba(255,0,168,.10), transparent 55%),
        linear-gradient(180deg, var(--bg1), var(--bg2));
      overflow:hidden;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
    }

    /* topbar match theme */
    .topbar{
      position: sticky; top:0; z-index:10;
      backdrop-filter: blur(12px);
      background: linear-gradient(180deg, rgba(7,10,18,.88), rgba(7,10,18,.55));
      border-bottom: 1px solid var(--line);
    }
    .row{
      max-width: 1100px;
      margin:0 auto;
      padding: 12px 14px;
      display:flex; align-items:center; justify-content:space-between;
      gap:10px;
    }
    .brand{
      display:flex; align-items:center; gap:10px;
      text-decoration:none; color:var(--text);
    }
    .dot{
      width:12px; height:12px; border-radius:999px;
      background: radial-gradient(circle at 30% 30%, #B8C2FF, #4B5BFF 55%, #0AF 100%);
      box-shadow: 0 0 22px rgba(96,120,255,.45);
    }
    .brand__name{font-weight:700; letter-spacing:.4px}
    .tag{
      font-size:12px; color:var(--muted);
      padding: 6px 10px;
      border:1px solid var(--line);
      border-radius:999px;
      background: rgba(255,255,255,.04);
      white-space:nowrap;
    }

    /* layout */
    .wrap{
      max-width: 1100px;
      margin: 0 auto;
      padding: 14px;
      display:grid;
      grid-template-columns: 1.25fr .75fr;
      gap: 14px;
      height: calc(100vh - 60px);
    }
    @media (max-width: 980px){
      .wrap{grid-template-columns:1fr; height:auto; overflow:auto}
      body{overflow:auto}
    }

    .card{
      background: var(--card);
      border:1px solid var(--line);
      border-radius: var(--radius);
      box-shadow: var(--glow);
      overflow:hidden;
    }
    .card-h{
      padding: 14px;
      border-bottom: 1px solid var(--line);
      display:flex; align-items:center; justify-content:space-between;
      gap:10px;
    }
    .card-h h1{margin:0; font-size:16px}
    .sub{margin:0; font-size:12px; color:var(--muted)}
    .panel{
      padding: 14px;
      display:grid;
      gap: 10px;
    }

    .btn{
      cursor:pointer;
      border:none;
      color:var(--text);
      padding: 12px 14px;
      border-radius: 14px;
      background: rgba(255,255,255,.08);
      border:1px solid var(--line);
      transition: transform .12s ease, background .12s ease;
      user-select:none;
    }
    .btn:hover{transform: translateY(-1px); background: rgba(255,255,255,.10)}
    .btn:active{transform: translateY(0px) scale(.98)}
    .btn.primary{
      background: linear-gradient(90deg, rgba(75,91,255,.55), rgba(0,255,209,.22));
      border:1px solid rgba(255,255,255,.14);
    }
    .btn.danger{
      background: linear-gradient(90deg, rgba(255,68,178,.40), rgba(255,255,255,.06));
      border:1px solid rgba(255,255,255,.14);
    }

    .kv{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap: 10px;
    }
    .stat{
      background: rgba(255,255,255,.04);
      border: 1px solid rgba(255,255,255,.08);
      border-radius: 14px;
      padding: 10px;
    }
    .stat b{display:block; font-size:12px; color:var(--muted)}
    .stat span{font-size:18px; font-weight:800}

    .hint{
      font-size: 12px;
      color: var(--muted);
      line-height: 1.55;
    }

    /* canvas */
    .arena{
      position: relative;
      height: 100%;
      min-height: 520px;
      display:flex;
      flex-direction:column;
    }
    .canvasWrap{
      position: relative;
      flex:1;
      background:
        radial-gradient(700px 380px at 20% 0%, rgba(120,140,255,.14), transparent 60%),
        radial-gradient(600px 340px at 80% 40%, rgba(0,255,209,.10), transparent 60%),
        linear-gradient(180deg, rgba(255,255,255,.03), rgba(0,0,0,.10));
    }
    canvas{display:block; width:100%; height:100%}
    .overlay{
      position:absolute; inset:0;
      display:flex; align-items:center; justify-content:center;
      pointer-events:none;
    }
    .toast{
      pointer-events:none;
      background: rgba(0,0,0,.35);
      border:1px solid rgba(255,255,255,.12);
      border-radius: 16px;
      padding: 12px 14px;
      backdrop-filter: blur(10px);
      text-align:center;
      max-width: 520px;
      margin: 0 14px;
    }
    .toast h2{margin:0 0 6px 0; font-size:18px}
    .toast p{margin:0; font-size:12px; color:var(--muted); line-height:1.5}
    .hidden{display:none!important}

    /* mobile controls */
    .mobileControls{
      display:none;
      gap:10px;
      padding: 12px;
      border-top: 1px solid var(--line);
      background: rgba(0,0,0,.18);
      backdrop-filter: blur(10px);
    }
    .padBtn{
      flex:1;
      text-align:center;
      padding: 14px;
      border-radius: 16px;
      background: rgba(255,255,255,.06);
      border:1px solid rgba(255,255,255,.10);
      user-select:none;
      font-weight:700;
    }
    .padBtn:active{transform: scale(.98)}
    @media (max-width: 980px){
      .mobileControls{display:flex}
      .arena{min-height: 560px}
    }

    .badge{
      font-size: 11px;
      padding: 5px 10px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.05);
      color: rgba(234,240,255,.85);
      white-space:nowrap;
    }

    .shop{
      display:grid;
      gap: 10px;
      margin-top: 6px;
    }
    .item{
      background: rgba(255,255,255,.04);
      border:1px solid rgba(255,255,255,.10);
      border-radius: 14px;
      padding: 10px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
    }
    .item .t{
      font-size: 13px;
      font-weight: 800;
    }
    .item .d{
      font-size: 12px;
      color: var(--muted);
      margin-top: 2px;
    }
    .mini{
      font-size: 12px;
      padding: 9px 12px;
      border-radius: 12px;
    }
  </style>
</head>

<body>
  <div class="topbar">
    <div class="row">
      <a class="brand" href="index.html">
        <span class="dot"></span>
        <div>
          <div class="brand__name">YNA STORE</div>
          <div class="sub">Game ‚Äî Neon Runner</div>
        </div>
      </a>
      <div class="tag">Space / Tap ‚Ä¢ Mobile Ready</div>
    </div>
  </div>

  <div class="wrap">
    <!-- GAME -->
    <div class="card arena">
      <div class="card-h">
        <div>
          <h1>Neon Runner</h1>
          <p class="sub">Lompat, hindari rintangan, kumpulin koin ‚ú®</p>
        </div>
        <div class="badge" id="modeBadge">MODE: EASY</div>
      </div>

      <div class="canvasWrap">
        <canvas id="cv"></canvas>

        <div class="overlay" id="overlay">
          <div class="toast">
            <h2 id="ovTitle">Siap main? üöÄ</h2>
            <p id="ovText">Tekan <b>SPACE</b> buat lompat. Tahan buat lompat lebih tinggi. Di HP, tap area kiri/kanan.</p>
            <p class="sub" style="margin-top:10px;">Klik <b>Start</b> di panel kanan.</p>
          </div>
        </div>
      </div>

      <div class="mobileControls">
        <div class="padBtn" id="btnJump">JUMP</div>
        <div class="padBtn" id="btnDash">DASH</div>
      </div>
    </div>

    <!-- SIDE PANEL -->
    <div class="card">
      <div class="card-h">
        <div>
          <h1>Control Panel</h1>
          <p class="sub">Skor tinggi = aura makin gacor üòº</p>
        </div>
      </div>

      <div class="panel">
        <div class="kv">
          <div class="stat"><b>Score</b><span id="score">0</span></div>
          <div class="stat"><b>Coins</b><span id="coins">0</span></div>
          <div class="stat"><b>Best</b><span id="best">0</span></div>
          <div class="stat"><b>Speed</b><span id="spd">1.0x</span></div>
        </div>

        <button class="btn primary" id="startBtn">Start</button>
        <button class="btn" id="toggleMode">Toggle Mode (Easy/Pro)</button>
        <button class="btn danger" id="resetBest">Reset Best</button>

        <div class="hint">
          <b>How to play:</b><br>
          ‚Ä¢ <span class="k">SPACE</span> / Tap = Jump (tahan buat lebih tinggi)<br>
          ‚Ä¢ <span class="k">SHIFT</span> / Dash = Burst (cooldown)<br>
          ‚Ä¢ Ambil koin buat buka ‚Äúvoucher‚Äù di bawah (cuma tampilan fun üòÑ)
        </div>

        <div class="shop">
          <div class="item">
            <div>
              <div class="t">Voucher ‚ÄúDiskon Panel‚Äù</div>
              <div class="d">Butuh 30 coins (fun card)</div>
            </div>
            <button class="btn mini" id="buy1">Claim</button>
          </div>
          <div class="item">
            <div>
              <div class="t">Sticker ‚ÄúYNA Neon‚Äù</div>
              <div class="d">Butuh 60 coins (fun card)</div>
            </div>
            <button class="btn mini" id="buy2">Claim</button>
          </div>
          <div class="item">
            <div>
              <div class="t">Title ‚ÄúBuyer VIP‚Äù</div>
              <div class="d">Butuh 120 coins (fun card)</div>
            </div>
            <button class="btn mini" id="buy3">Claim</button>
          </div>
          <div class="hint" id="shopMsg"></div>
        </div>
      </div>
    </div>
  </div>

  <script>
    // ====== Simple modern runner (canvas) ======
    const cv = document.getElementById('cv');
    const ctx = cv.getContext('2d');

    const ui = {
      score: document.getElementById('score'),
      coins: document.getElementById('coins'),
      best: document.getElementById('best'),
      spd: document.getElementById('spd'),
      overlay: document.getElementById('overlay'),
      ovTitle: document.getElementById('ovTitle'),
      ovText: document.getElementById('ovText'),
      modeBadge: document.getElementById('modeBadge'),
      shopMsg: document.getElementById('shopMsg'),
    };

    function resize(){
      const box = cv.parentElement.getBoundingClientRect();
      const dpr = Math.min(2, window.devicePixelRatio || 1);
      cv.width = Math.floor(box.width * dpr);
      cv.height = Math.floor(box.height * dpr);
      cv.style.width = box.width + "px";
      cv.style.height = box.height + "px";
      ctx.setTransform(dpr,0,0,dpr,0,0);
    }
    window.addEventListener('resize', resize);
    resize();

    // persistent best
    const BEST_KEY = "yna_game_best_v2";
    let best = parseInt(localStorage.getItem(BEST_KEY) || "0", 10);
    ui.best.textContent = best;

    // mode
    let proMode = false;
    function setMode(){
      ui.modeBadge.textContent = "MODE: " + (proMode ? "PRO" : "EASY");
    }
    setMode();

    // world
    let running = false;
    let tPrev = 0;

    const groundY = ()=> (cv.getBoundingClientRect().height - 90);

    const player = {
      x: 90,
      y: 0,
      w: 34,
      h: 34,
      vy: 0,
      onGround: true,
      dashCd: 0,
      dashT: 0
    };

    let world = {
      score: 0,
      coins: 0,
      speed: 380,
      spawnT: 0,
      coinT: 0,
      obstacles: [],
      pickups: [],
      sparks: []
    };

    function resetWorld(){
      world.score = 0;
      world.coins = 0;
      world.speed = proMode ? 460 : 380;
      world.spawnT = 0;
      world.coinT = 0;
      world.obstacles = [];
      world.pickups = [];
      world.sparks = [];
      player.y = groundY();
      player.vy = 0;
      player.onGround = true;
      player.dashCd = 0;
      player.dashT = 0;
      syncUI();
    }

    function syncUI(){
      ui.score.textContent = Math.floor(world.score);
      ui.coins.textContent = world.coins;
      ui.spd.textContent = (world.speed/380).toFixed(1) + "x";
      ui.best.textContent = best;
    }

    function showOverlay(title, text){
      ui.ovTitle.textContent = title;
      ui.ovText.innerHTML = text;
      ui.overlay.classList.remove("hidden");
    }
    function hideOverlay(){
      ui.overlay.classList.add("hidden");
    }

    // input
    let jumpHold = false;

    function jump(hold=false){
      if(!running) return;
      if(player.onGround){
        player.vy = -(proMode ? 720 : 660);
        player.onGround = false;
        jumpHold = hold;
        fxBurst(player.x+player.w/2, player.y+player.h, 10);
      }
    }

    function dash(){
      if(!running) return;
      if(player.dashCd > 0) return;
      player.dashT = 0.16;     // short burst
      player.dashCd = 1.0;     // cooldown
      fxBurst(player.x+player.w, player.y+player.h/2, 18);
    }

    document.addEventListener("keydown", (e)=>{
      if(e.code==="Space"){ e.preventDefault(); jump(true); }
      if(e.code==="ShiftLeft" || e.code==="ShiftRight"){ dash(); }
    });
    document.addEventListener("keyup", (e)=>{
      if(e.code==="Space"){ jumpHold = false; }
    });

    // touch controls
    const btnJump = document.getElementById("btnJump");
    const btnDash = document.getElementById("btnDash");

    const touchStart = (fn)=> (e)=>{ e.preventDefault(); fn(true); };
    const touchEnd = (fn)=> (e)=>{ e.preventDefault(); fn(false); };

    btnJump.addEventListener("touchstart", touchStart(()=>jump(true)), {passive:false});
    btnJump.addEventListener("touchend", touchEnd(()=>{jumpHold=false}), {passive:false});
    btnDash.addEventListener("touchstart", (e)=>{ e.preventDefault(); dash(); }, {passive:false});

    // allow tap on canvas too
    cv.addEventListener("pointerdown", (e)=>{
      const r = cv.getBoundingClientRect();
      const x = e.clientX - r.left;
      if(x < r.width*0.6) jump(true);
      else dash();
    });
    cv.addEventListener("pointerup", ()=>{ jumpHold=false; });

    // particles
    function fxBurst(x,y,n){
      for(let i=0;i<n;i++){
        world.sparks.push({
          x,y,
          vx:(Math.random()*2-1)*220,
          vy:(Math.random()*2-1)*220,
          life: 0.45 + Math.random()*0.35
        });
      }
    }

    // spawn
    function spawnObstacle(){
      const h = proMode ? (30 + Math.random()*36) : (28 + Math.random()*30);
      const w = 18 + Math.random()*22;
      world.obstacles.push({
        x: cv.getBoundingClientRect().width + 40,
        y: groundY() + (player.h - h),
        w, h,
        type: Math.random() < 0.25 && proMode ? "tall" : "box"
      });
    }
    function spawnCoin(){
      const baseY = groundY() - (40 + Math.random()*120);
      world.pickups.push({
        x: cv.getBoundingClientRect().width + 40,
        y: Math.max(70, baseY),
        r: 10,
        t: 0
      });
    }

    function aabb(ax,ay,aw,ah,bx,by,bw,bh){
      return ax < bx + bw && ax + aw > bx && ay < by + bh && ay + ah > by;
    }

    // render helpers
    function drawGlowCircle(x,y,r,alpha){
      ctx.save();
      ctx.globalAlpha = alpha;
      ctx.beginPath();
      ctx.arc(x,y,r,0,Math.PI*2);
      ctx.fillStyle = "rgba(120,140,255,.35)";
      ctx.fill();
      ctx.shadowBlur = 20;
      ctx.shadowColor = "rgba(0,255,209,.25)";
      ctx.fillStyle = "rgba(0,255,209,.18)";
      ctx.fill();
      ctx.restore();
    }

    function drawGrid(){
      const w = cv.getBoundingClientRect().width;
      const h = cv.getBoundingClientRect().height;
      ctx.save();
      ctx.globalAlpha = 0.12;
      ctx.strokeStyle = "rgba(255,255,255,.20)";
      ctx.lineWidth = 1;

      const step = 44;
      for(let x=0;x<w;x+=step){
        ctx.beginPath();
        ctx.moveTo(x,0);
        ctx.lineTo(x,h);
        ctx.stroke();
      }
      for(let y=0;y<h;y+=step){
        ctx.beginPath();
        ctx.moveTo(0,y);
        ctx.lineTo(w,y);
        ctx.stroke();
      }
      ctx.restore();
    }

    function render(dt){
      const w = cv.getBoundingClientRect().width;
      const h = cv.getBoundingClientRect().height;

      // bg
      ctx.clearRect(0,0,w,h);
      drawGrid();

      // horizon glow
      drawGlowCircle(w*0.2, 70, 120, .35);
      drawGlowCircle(w*0.85, 160, 160, .25);

      // ground line
      ctx.save();
      ctx.strokeStyle = "rgba(255,255,255,.14)";
      ctx.lineWidth = 2;
      ctx.beginPath();
      ctx.moveTo(0, groundY()+player.h);
      ctx.lineTo(w, groundY()+player.h);
      ctx.stroke();
      ctx.restore();

      // player
      ctx.save();
      const px = player.x;
      const py = player.y;

      // trail when dashing
      if(player.dashT > 0){
        ctx.globalAlpha = 0.22;
        ctx.fillStyle = "rgba(0,255,209,.35)";
        ctx.fillRect(px-26, py+6, 20, 22);
        ctx.globalAlpha = 1;
      }

      ctx.shadowBlur = 22;
      ctx.shadowColor = "rgba(75,91,255,.45)";
      ctx.fillStyle = "rgba(234,240,255,.14)";
      ctx.fillRect(px, py, player.w, player.h);

      ctx.shadowBlur = 14;
      ctx.shadowColor = "rgba(0,255,209,.35)";
      ctx.fillStyle = "rgba(0,255,209,.14)";
      ctx.fillRect(px+6, py+6, player.w-12, player.h-12);
      ctx.restore();

      // obstacles
      for(const o of world.obstacles){
        ctx.save();
        ctx.shadowBlur = 18;
        ctx.shadowColor = "rgba(255,0,168,.35)";
        ctx.fillStyle = "rgba(255,68,178,.16)";
        ctx.fillRect(o.x, o.y, o.w, o.h);
        ctx.shadowBlur = 8;
        ctx.shadowColor = "rgba(255,255,255,.20)";
        ctx.fillStyle = "rgba(255,255,255,.08)";
        ctx.fillRect(o.x+3, o.y+3, o.w-6, o.h-6);
        ctx.restore();
      }

      // coins
      for(const c of world.pickups){
        ctx.save();
        const bob = Math.sin(c.t*6) * 4;
        const x = c.x, y = c.y + bob;
        ctx.shadowBlur = 18;
        ctx.shadowColor = "rgba(0,255,209,.40)";
        ctx.fillStyle = "rgba(0,255,209,.16)";
        ctx.beginPath();
        ctx.arc(x,y,c.r,0,Math.PI*2);
        ctx.fill();
        ctx.shadowBlur = 10;
        ctx.shadowColor = "rgba(255,255,255,.25)";
        ctx.strokeStyle = "rgba(255,255,255,.22)";
        ctx.lineWidth = 2;
        ctx.stroke();
        ctx.restore();
      }

      // sparks
      for(const s of world.sparks){
        ctx.save();
        ctx.globalAlpha = Math.max(0, s.life*1.6);
        ctx.fillStyle = "rgba(255,255,255,.70)";
        ctx.fillRect(s.x, s.y, 2, 2);
        ctx.restore();
      }
    }

    function update(dt){
      const w = cv.getBoundingClientRect().width;

      // speed ramp
      world.speed += dt * (proMode ? 16 : 12);
      world.score += dt * (proMode ? 26 : 22);

      // dash
      if(player.dashCd > 0) player.dashCd = Math.max(0, player.dashCd - dt);
      if(player.dashT > 0){
        player.dashT = Math.max(0, player.dashT - dt);
      }

      // gravity & jump hold
      const grav = proMode ? 1700 : 1600;
      player.vy += grav * dt;

      // jump hold gives a tiny lift at start
      if(jumpHold && player.vy < 0){
        player.vy -= (proMode ? 420 : 360) * dt;
      }

      player.y += player.vy * dt;

      // ground collision
      const gy = groundY();
      if(player.y >= gy){
        player.y = gy;
        player.vy = 0;
        player.onGround = true;
      }

      // spawn obstacles
      world.spawnT -= dt;
      const spawnRate = proMode ? 0.72 : 0.9;
      if(world.spawnT <= 0){
        spawnObstacle();
        world.spawnT = spawnRate - Math.min(0.25, world.score/600);
      }

      // spawn coins
      world.coinT -= dt;
      if(world.coinT <= 0){
        spawnCoin();
        world.coinT = 0.65 + Math.random()*0.55;
      }

      // move obstacles/pickups
      const dashBoost = (player.dashT > 0) ? (proMode ? 1.55 : 1.45) : 1;
      const sp = world.speed * dashBoost;

      for(const o of world.obstacles){
        o.x -= sp * dt;
      }
      for(const c of world.pickups){
        c.x -= sp * dt;
        c.t += dt;
      }

      // particles
      for(const s of world.sparks){
        s.x += s.vx * dt;
        s.y += s.vy * dt;
        s.vx *= (1 - 2.4*dt);
        s.vy *= (1 - 2.4*dt);
        s.life -= dt;
      }
      world.sparks = world.sparks.filter(s=>s.life > 0);

      // cleanup
      world.obstacles = world.obstacles.filter(o=> o.x + o.w > -30);
      world.pickups = world.pickups.filter(c=> c.x + c.r > -30);

      // collisions
      const pW = player.w, pH = player.h;
      const pX = player.x, pY = player.y;

      // coin pickup
      for(let i=world.pickups.length-1;i>=0;i--){
        const c = world.pickups[i];
        const bob = Math.sin(c.t*6) * 4;
        const cx = c.x, cy = c.y + bob;
        const dx = (pX+pW/2) - cx;
        const dy = (pY+pH/2) - cy;
        if(dx*dx + dy*dy < (c.r + 18)*(c.r + 18)){
          world.pickups.splice(i,1);
          world.coins += 1;
          fxBurst(cx, cy, 8);
        }
      }

      // obstacle hit (if dashing, allow 1 pass with tiny window? nope keep fair)
      for(const o of world.obstacles){
        if(aabb(pX,pY,pW,pH,o.x,o.y,o.w,o.h)){
          gameOver();
          break;
        }
      }

      syncUI();
    }

    function loop(ts){
      if(!running) return;
      const t = ts/1000;
      const dt = Math.min(0.033, t - tPrev || 0.016);
      tPrev = t;

      update(dt);
      render(dt);

      requestAnimationFrame(loop);
    }

    function start(){
      resetWorld();
      hideOverlay();
      running = true;
      tPrev = performance.now()/1000;
      requestAnimationFrame(loop);
    }

    function gameOver(){
      running = false;
      best = Math.max(best, Math.floor(world.score));
      localStorage.setItem(BEST_KEY, String(best));
      syncUI();

      showOverlay(
        "Game Over üí•",
        `Score kamu <b>${Math.floor(world.score)}</b> ‚Ä¢ Coins <b>${world.coins}</b><br/>
         Tekan <b>Start</b> untuk main lagi. Mode <b>${proMode ? "PRO" : "EASY"}</b> bisa kamu ganti di panel kanan.`
      );
    }

    // shop (fun cards)
    function claim(cost, name){
      if(world.coins < cost){
        ui.shopMsg.textContent = `Coins kurang üòø butuh ${cost} coins.`;
        return;
      }
      world.coins -= cost;
      ui.shopMsg.textContent = `‚úÖ ${name} berhasil di-claim! (fun card)`;
      fxBurst(player.x+10, player.y+10, 18);
      syncUI();
    }

    // buttons
    document.getElementById("startBtn").addEventListener("click", start);
    document.getElementById("toggleMode").addEventListener("click", ()=>{
      proMode = !proMode;
      setMode();
      showOverlay(
        "Mode diganti ‚úÖ",
        `Sekarang <b>${proMode ? "PRO" : "EASY"}</b>.<br/>Klik <b>Start</b> untuk mulai.`
      );
    });
    document.getElementById("resetBest").addEventListener("click", ()=>{
      best = 0;
      localStorage.setItem(BEST_KEY, "0");
      syncUI();
      ui.shopMsg.textContent = "Best direset ‚úÖ";
    });

    document.getElementById("buy1").addEventListener("click", ()=>claim(30, "Voucher Diskon Panel"));
    document.getElementById("buy2").addEventListener("click", ()=>claim(60, "Sticker YNA Neon"));
    document.getElementById("buy3").addEventListener("click", ()=>claim(120, "Title Buyer VIP"));

    // initial overlay
    showOverlay("Siap main? üöÄ", "Tekan <b>SPACE</b> buat lompat. Tahan buat lompat lebih tinggi. Di HP: tap kiri (jump), kanan (dash).");
    resetWorld();
    render(0);
  </script>
</body>
  </html>
